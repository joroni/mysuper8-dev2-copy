<template>
  <div class="page" data-name="catalog" id="catalog">
    <div class="navbar">
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="link back">
            <i class="icon icon-back"></i>
            <span class="ios-only">Back</span>
          </a>
        </div>
        <div class="title">Catalog</div>
      </div>
    </div>
    <div class="page-content">
      <div class="list list-block media-list">
        <ul>
          {{#each products}}
         
          <li class="swipeout">
            <div class="swipeout-content" data-id="{{id}}">
              <a href="/product/{{id}}/" class="item-link item-content">
                <div class="item-media"><img src="/img/products/{{img}}" width="80"></div>
                <div class="item-inner">
                  <div class="item-title-row">
                    <div class="item-title"></div>
                    <div class="item-after"><del>₱{{oldprice}}</del>&nbsp; <span>₱{{price}}</span></div>
                  </div>
                  <!--<truediv class="item-subtitle"><a href=""><span class="mybadge badge {{statecolor}} mr-1">{{state}}</span></a></div>-->
                  <div class="item-text">{{desc}}</div>
                </div>
              </a>
              <div id="stepper_prod_{{id}}" data-id="{{id}}" class="myStepper_{{id}} swipeout-actions-right">
              <div class="stepper stepper-small stepper-init">
                  <div class="stepper-button-minus prod_{{id}}" onclick="app.updateItem({{id}} ,{{stock}})"  ></div>
                  <div class="stepper-input-wrap">
                    <input type="number" id="prod_{{id}}" readonly name="quant[{{id}}]" class="form-control input-number quantity manage-qtty" value="0" min="0" max="100">
                  </div>
                 <!-- <div class="stepper-button-plus prod_{{id}}" onclick="app.addToCart('{{id}}')"></div>-->
                 <div class="stepper-button-plus prod_{{id}}" data-id="plus_{{id}}" onclick="app.addToMyCart({{id}})"></div>
                </div>
              </div>
            
               
          </li>
          {{/each}}
        </ul>
      </div>
    </div>
  </div>
</template>
<script>
  //productlist = JSON.parse(localStorage.getItem("products"));
  products_live=[
  {
    "id": 1,
    "sku": "A0000001",
    "name": "Denim Shirt2",
    "cat": "Out Wear",
    "state": "New",
    "statecolor": "green",
    "size": "",
    "img": "12.jpg",
    "oldprice": "",
    "price": 350,
    "desc": "Libertad 5oz BU 1998 Contains 1 Libertad 5oz BU brilliant uncirculated .999 fine Silver. In capsule The same coin as you see in this picture. We only Ship to the US, and is FREE Shipping Shipping time",
    "stock": 10,
    "cname": "",
    "check": "",
    "select": "",
    "notes": "",
    "email": "",
    "smname": "",
    "timestamp": "",
    "ponumber": "",
    "total": "",
    "currency": "₱",
    "merchant": "Super 8"
  },
  {
    "id": 2,
    "sku": "A0000002",
    "name": "Denim Shirt40",
    "cat": "Out Wear",
    "state": "New",
    "statecolor": "green",
    "size": "",
    "img": "12.jpg",
    "oldprice": "",
    "price": 360,
    "desc": "Libertad 5oz BU 1998 Contains 1 Libertad 5oz BU brilliant uncirculated .999 fine Silver. In capsule The same coin as you see in this picture. We only Ship to the US, and is FREE Shipping Shipping time",
    "stock": 10,
    "cname": "",
    "check": "",
    "select": "",
    "notes": "",
    "email": "",
    "smname": "",
    "timestamp": "",
    "ponumber": "",
    "total": "",
    "currency": "₱",
    "merchant": "Super 8"
  },
  {
    "id": 3,
    "sku": "A0000003",
    "name": "Denim Shirt",
    "cat": "Sports Wear",
    "state": "New",
    "statecolor": "green",
    "size": "",
    "img": "12.jpg",
    "oldprice": "",
    "price": 299,
    "desc": "Libertad 5oz BU 1998 Contains 1 Libertad 5oz BU brilliant uncirculated .999 fine Silver. In capsule The same coin as you see in this picture. We only Ship to the US, and is FREE Shipping Shipping time",
    "stock": 4,
    "cname": "",
    "check": "",
    "select": "",
    "notes": "",
    "email": "",
    "smname": "",
    "timestamp": "",
    "ponumber": "",
    "total": "",
    "currency": "₱",
    "merchant": "Super 8"
  }
];
   
 
  return {
    data: function (e) {
      Categorize(selectedCat);
      return {
       // products: this.$root.products,
       products:_.filter([products_live], function(item, index) {
       //  console.log('----')
        return _.contains([selectedCat], item.cat);
        })
      };
    }
  }
  
</script>